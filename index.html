<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>WorkIn</title>

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="style.css">
        <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

        <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>

        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    
        <script src="https://kit.fontawesome.com/3da44e21a2.js" crossorigin="anonymous"></script>

        <script src="js/progressbar.min.js"></script>

        <script src="https://cdn.jsdelivr.net/parallax.js/1.4.2/parallax.min.js"></script>
    
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
        <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>


        <link rel="shortcut icon" href="img/img/bLogo.png" type="image/x-icon">

        <script src="https://unpkg.com/scrollreveal"></script>

    </head>
    <body onload="load()">
        <header>
            <div class="container-fluid d-flex" id="nav-container">
                <nav class="barra_de_navegacao fixed-top navbar d-flex justify-content-between">
                    <a href="#Home" class="logo_marca nav-brand  ms-5 bi-robot" data-bs-toggle="offcanvas" data-bs-target="#painel"></a>
                    <div class="links_barra me-5">
                        <a href="#o-que-e" class="quemSomos ms-2 d-none d-md-inline">Quem Somos</a>
                        <a href="#nossos-valores" class="valores ms-2 d-none d-md-inline">Nossos Valores</a>
                        <a href="#empresas-conectadas" class="empresas ms-2 d-none d-md-inline">Empresas</a>
                        <a href="./perfil/indexFisica.html" class="perfil bi-person-circle fs-3" id="perfil"></a>
                        <a href="./perfil/indextJuridica.html" class="perfil bi-person-circle fs-3" id="perfilEmpresa"></a>
                        <a class="login ms-2" href="./LoginCadastro/index.html" id="login">Login</a>
                    </div>
                </nav>
            </div>
        </header>



        
                <!-- chatbot -->
        
                <div class="offcanvas offcanvas-start offcanvas-dark mt-5 w-100" id="painel" tabindex="-10000000">
                  <div class="offcanvas-header">
                    <h4 class="offcanvas-title">WoIN AI</h4>
                    <button class="btn-close" data-bs-dismiss="offcanvas"></button>
                  </div>
                    <div class="offcanvas-body">
                      <div class="botspace p-5">
                        <div class="chat-container">
                          <div id="chat-history">
        
                          </div>
                          
                        </div>
                      </div>
                    </div>
                      <div class="chat-input"> 
                        <input type="text" id="user-input" placeholder="Mensagem...">
                        <button id="confirmPrompt" class="btn btn-light w-50">Enviar</button>
                      </div>
                    </div>
                  </div>
                </div>
        
        
                  


          

        <main>
          <div class="container-fluid d-flex" id="nav-container">
            <nav class="barra_de_navegacao fixed-top navbar d-flex justify-content-between">
                <a href="#Home" class="logo_marca nav-brand  ms-5 bi-robot" data-bs-toggle="offcanvas" data-bs-target="#painel"></a>
                <div class="me-5">
                    <a href="#o-que-e" class="quemSomos ms-2 d-none d-md-inline">Quem Somos</a>
                    <a href="#nossos-valores" class="valores ms-2 d-none d-md-inline">Nossos Valores</a>
                    <a href="#empresas-conectadas" class="empresas ms-2 d-none d-md-inline">Empresas</a>
                    <a class="login ms-2" href="./LoginCadastro/index.html">Login</a>
                    <a href="./perfil/index.html bi-person-circle"></a>
                </div>
            </nav>
        </div>


        


            <div>
                <!-- <section id="section1" class="parallax w-100 position-relative" data-speed="0.2">
                    <div class="container">
                        <div class="row w-100">
                            <div class="inv2 col-12">
                
                            </div>
                            <div id="textoMain1" class="col-12 text-center">
                                <h1>BEM-VINDO</h1>
                            </div>
                            <div class="inv3 col-12">
                
                            </div>
                            <div id="textoMain" class="col-12 text-center">
                                <h1>WORKIN</h1>
                                <p>Suas Oportunidades, Nosso Compromisso</p>
                            </div>
                        </div>
                    </div>
                </section> -->

                <section id="parallax">
                    <img src="./img/stars.png" id="stars">
                    <img src="./img/moon.png" id="moon">
                    <img src="./img/mountains_behind.png" id="mountains_behind">
                    <h2 id="text">Work In</h2>
                    <img src="./img/mountains_front.png" id="mountains_front">
                </section>
        
              <!-- o que é -->
              <section id="o-que-e" class="o-que-e d-flex align-item-center">
                <div class="container">
                  <div class="row">
                    <div class="col-md-6 text-center anim-1"> 
                      <h1 class="mx-auto text-uppercase oqueETxt" id="title-about-enterprise">O que é a WORKIN?</h1>
                      <p class="mx-auto my-auto mt-2 mb-3 oqueETxt" id="paragrafo-about-enterprise">
                       WorkIn é uma plataforma que conecta empresas com vagas inclusivas para pessoas de grupos minoritários, como pessoas com deficiência, negras, indígenas, LGBTQIA+ e mulheres. Nossa plataforma visa promover a diversidade e a inclusão no mercado de trabalho.
                      </p>
                      <div class="text-center"> 
                          <button class="mx-auto mt-4">
                              Entrar
                          </button>
                          <small class="d-block mt-2 text-decoration-underline"><a href="#" class="inscreva-se ">ainda não tem conta? inscreva-se</a></small>
                          
                          <a class="btn btn-google mt-5" href="#" title="Google Play">Google Play</a>

                       </div>
                    </div>
                    <div class="img-o-que-e col-md-6 d-flex justify-content-center align-items-center">

                    </div>
                  </div>
                </div>
              </section>
         <!--nossos valores-->
         <section id="nossos-valores" class="nossos-valores">
          <div class="container">
            <div class="row">
              <div class="col-12 text-center mb-5 anim-1">
                <h1 class="text-uppercase" id="valores-title">Nossos Valores</h1>
                <p>
                  Na WorkIn, acreditamos que todos merecem uma chance justa de sucesso no mercado de trabalho. É por isso que somos apaixonados por conectar pessoas de grupos minoritários com empregos que valorizam seus talentos e experiências únicas.
                </p>
              </div>
            </div>
      
            <div class="row">
              <div class="col-md-4 col-sm-6 mb-4"> 
                <div class="card anim-card-1">
                  <div class="card-body d-flex flex-column align-items-center">
                    <h5 class="card-title mt-4 mb-4">INCLUSÃO</h5>
                    <p class="card-text">Todos os membros da equipe e candidatos a vagas são acolhidos e valorizados, independentemente de suas diferenças e origens.</p>
                  </div>
                </div>
              </div>
              <div class="col-md-4 col-sm-6 mb-4">
                <div class="card anim-card-2">
                  <div class="card-body d-flex flex-column align-items-center">
                    <h5 class="card-title mt-4 mb-4">DIVERSIDADE</h5>
                    <p class="card-text">Aqui, há lugar para pessoas com diversas origens, perspectivas e experiências, enriquecendo o ambiente de trabalho e as tomadas de decisão.</p>
                  </div>
                </div>
              </div>
              <div class="col-md-4 col-sm-6 mb-4">
                <div class="card anim-card-3">
                  <div class="card-body d-flex flex-column align-items-center">
                    <h5 class="card-title mt-4 mb-4">EQUIDADE</h5>
                    <p class="card-text">Todos tem oportunidades iguais de crescimento, desenvolvimento e sucesso, promovendo justiça e igualdade no local de trabalho.</p>
                  </div>
                </div>
              </div>
            </div>
            </div>
                </div>
        </section>
        <div class="container-fluid" id="fotoTransicao"></div>
         <!--empresas conectadas-->
         <section id="empresas-conectadas" class="container-fluid empresas-conectadas col-12">
            <div class="col-12 row">
                <div id="tituloEmpresas" class="col-12 anim-2">
                    <h1 class="empresasTitulo">Empresas conectadas</h1>
                </div>
                <div id="autoplaySlider" class="col-12 ">
                    <div class="slider">
                        <div class="slide-track">
                            <div class="slide"></div>
                            <div class="slide"></div>
                            <div class="slide"></div>
                            <div class="slide"></div>
                            <div class="slide"></div>
                            <div class="slide"></div>
                            <div class="slide"></div>
                            <div class="slide"></div>
                            <div class="slide"></div>
                            <div class="slide"></div>
                            <div class="slide"></div>
                            <div class="slide"></div>
                        </div>
                    </div>
                </div>



                <div id="subtituloEmpresas" class="anim-3">
                    <h2 class="empresasSubtitulo"><span class="auto-type"></span> com o <br> WorkInApp</h2>
                </div>
                <div class="buttonEmpresas text-end anim-3">
                    <button id="botaoEmpresas" class="mt-4">
                        <h4>Cadastrar Loja</h4>
                    </button>
                    <small class="d-block mt-2 text-decoration-underline"><a href="#" class="lojista">Já é cadastrado? Acesse a página do lojista</a></small>
                </div>
            </div>
         </section>
            </div>
           
            

        </main>
    

        <footer class="footer">
          <div class="footer-container">
            <div class="footer-row">
              <div class="footer-col">
                <h4>Central de Ajuda</h4>
                <ul>
                  <li><a href="#">Perguntas Frequentes</a></li>
                  <li><a href="#">Fale Conosco</a></li>
                  <li><a href="#">Termos de Uso</a></li>
                  <li><a href="#">Política de Privacidade</a></li>
                </ul>
              </div>
              <div class="footer-col">
                <h4>Ferramentas de Carreira</h4>
                <ul>
                  <li><a href="#">Vagas em Destaque</a></li>
                  <li><a href="#">Dicas de Carreria</a></li>
                  <li><a href="#">Empresas que estão Contratando</a></li>
                  <li><a href="#">Work Shops</a></li>
                </ul>
              </div>
              <div class="footer-col">
                <h4>Empresas Parceiras</h4>
                <ul>
                  <li><a href="#">exemplo</a></li>
                  <li><a href="#">exemplo</a></li>
                  <li><a href="#">exemplo</a></li>
                  <li><a href="#">exemplo</a></li>
                </ul>
              </div>
              <div class="footer-col">
                <h4>veja também</h4>
                <div class="social-links">
                  <a href="#"><i class="fab fa-facebook-f"></i></a>
                  <a href="#"><i class="fab fa-twitter"></i></a>
                  <a href="#"><i class="fab fa-instagram"></i></a>
                  <a href="#"><i class="fab fa-github"></i></a>
                </div>
              </div>
            </div>
          </div>
       </footer>

        <script src="script.js"></script>
        <script src="anim.js" defer></script>

        <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

        <script type="importmap">
          {
            "imports": {
              "@google/generative-ai": "https://esm.run/@google/generative-ai"
            }
          }
        </script>

        <script src="chatbot.js"></script>

        <script>

          var typed = new Typed(".auto-type",{
              strings : ["Trabalhe", "Cresça", "Recrute"],
              typeSpeed : 100,
              backSpeed : 100,
              loop : true,
              loopCount: Infinity
          })
  
          setTimeout(function() {
  
              $('#parallax1').parallax({imageSrc: 'img/cidadeparallax.png'});
  
          }, 100)
          

        //   var i = 0;
        //   var txt = 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras efficitur sagittis tempus. Fusce ultrices felis et congue tempus. Vivamus pretium urna vel nibh feugiat elementum. Phasellus vehicula iaculis nisl ut auctor. Vestibulum quis iaculis magna, at venenatis enim. Vivamus ultricies accumsan dui. Proin ultricies ac diam at blandit.';
        //   var speed = 50;
        //   let scroll = window.scrollY 

        //   function typeWriter() {
        //     if (i < txt.length) {
        //       document.getElementById("paragrafo-about-enterprise").innerHTML += txt.charAt(i);
        //       i++;
        //       setTimeout(typeWriter, speed);
        //     }
        //   }

        //   let paragrafo = document.getElementById("paragrafo-about-enterprise")
        //   let texto = document.getElementById("text")

        //   window.addEventListener('scroll', function() {
        //   // Verifica se o usuário chegou na altura definida
        //   if (window.scrollY >= 300) {
        //     // Chama a função typewriter
        //     typewriter(); 
        //     // Remove o evento de rolagem para que a função seja executada apenas uma vez
        //     window.removeEventListener('scroll', arguments.callee); 
        //   }
        // });







      </script>

<script type="module" defer>

  let input = document.getElementById("user-input")
  let inputV = input.value
  let btn = document.getElementById("confirmPrompt")
  let resultSpace = document.getElementById("chat-history")

  btn.addEventListener('click', clicar)


  import { GoogleGenerativeAI } from "@google/generative-ai";

  // Fetch your API_KEY
  const API_KEY = "AIzaSyCPqHcG8bgiBqS8n0AKiDVaF3MUatetb18";

  // Access your API key (see "Set up your API key" above)
  const genAI = new GoogleGenerativeAI(API_KEY);

  
 






  // ...

   async function clicar() {
    let input = document.getElementById("user-input")
    let inputV = input.value

    let resultSpace = document.getElementById("chat-history")


    const generationConfig = {
      stopSequences: [""],
      maxOutputTokens: 100000,
      temperature: 0.6,
      topP: 0.1,
      topK: 16,
    };


    const model = genAI.getGenerativeModel({ model: "gemini-pro", generationConfig });
    const prompt = inputV


    // Desabilitar o botão "Enviar"
  document.getElementById("confirmPrompt").disabled = true; 


      // Limpar o input
      input.value = ""; 

      // Criar a div para a mensagem "Gerando resposta..."
    const loadingDiv = document.createElement('div');
    loadingDiv.id = "loadingDiv"
    loadingDiv.innerHTML = `<p>Gerando resposta</p><span class="bi-circle-fill" id="loadResponse1"></span><span class="bi-circle-fill" id="loadResponse2"></span><span class="bi-circle-fill" id="loadResponse3"></span>`;
    resultSpace.appendChild(loadingDiv);


    const chat = model.startChat({
    history: [
      {
        role: "user",
        parts: [{ text: "Oque é a WorkIn?" }],
      },
      {
        role: "model",
        parts: [{ text: "WorkIn é um projeto que visa facilitar a busca de vagas afirmativas no mercado de trabalho. Uma plataforma onde as empresas podem colocar vagas afirmativas para o mundo, facilitando pessoas de grupos minoritários acharem as vagas perfeitas para seus perfis." }],
      },
      {
        role: "user",
        parts: [{ text: "Quem é você?" }],
      },
      {
        role: "model",
        parts: [{ text: "Sou WoIN AI, uma IA criada e adaptada pela equipe da WorkIn para conectar a WorkIn com seus clientes e parceiros." }],
      },
      {
        role: "user",
        parts: [{ text: "Qual o período de translação da terra?" }],
      },
      {
        role: "model",
        parts: [{ text: "Fui criada para responder perguntas relacionadas ao projeto WorkIn, e não outras perguntas, porém aqui está sua resposta resumida, porque não é algo relacionado ao projeto: o período de translação da Terra leva 365 dias" }],
      },
      {
        role: "user",
        parts: [{ text: "Quais os membros da equipe WorkIn?" }],
      },
      {
        role: "model",
        parts: [{ text: "Não posso dar essa informação, desculpe" }],
      },
      {
        role: "user",
        parts: [{ text: "membros Workin" }],
      },
      {
        role: "model",
        parts: [{ text: "Não posso dar essa informação, desculpe" }],
      },

    ],
    generationConfig: {
      maxOutputTokens: 100000,
    },
  });


  //  const result = await model.generateContent(prompt);
  
   const history = await chat.getHistory();
   const msgContent = { role: "user", parts: [{ text: prompt }] };
   const contents = [...history, msgContent];
   const { totalTokens } = await model.countTokens({ contents });

   const result = await chat.sendMessage(prompt);
   const response = await result.response;
   const text = response.text();

   // Remover a mensagem "Gerando resposta..."
  resultSpace.removeChild(loadingDiv);

  //  const formattedText = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

  const formattedText = text
    .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') 
    .replace(/\*/g, '<br>'); 

  //  resultSpace.innerHTML = `<p style="color: #fff;">${text}</p>`


    // Criar a div para o texto do usuário
    const userDiv = document.createElement('div');

    userDiv.id = "userPrompt"
  userDiv.innerHTML = `<p style="color: #fff;">${prompt}</p>`; // Estilo para o texto do usuário
    // Adicionar a div do usuário ao chat-history
  resultSpace.appendChild(userDiv);



  // Criar a div para a mensagem "Gerando resposta..."
  // const loadingDiv = document.createElement('div');
  // loadingDiv.classList.add('chat-message', 'bot-message');
  // loadingDiv.innerHTML = `<p>Gerando resposta...</p>`;
  // resultSpace.appendChild(loadingDiv);                      
  

  

    // Criar a div para o texto do chatbot
   const chatbotDiv = document.createElement('div');
  //  chatbotDiv.style.backgroundColor = "#92cf6e"
   chatbotDiv.id = "botResponse"
  //  chatbotDiv.innerHTML = `<p style="color: #fff;">${text}</p>`;
  chatbotDiv.innerHTML = `<p style="color: #fff;">${formattedText}</p>`;

   // Adicionar a div ao chat-history
   resultSpace.appendChild(chatbotDiv);


  

     // Limpar o input
   input.value = ""; 

  //  ScrollReveal().reveal('#botResponse', { delay: 1000 }, { distance: "200px" }, { duration: 2000 });
  //  ScrollReveal().reveal('#userPrompt', { delay: 100 }, { distance: "200px" }, { duration: 2000 });

   // Desabilitar o botão "Enviar"
  document.getElementById("confirmPrompt").disabled = false; 

   }
   
  //  let loadingExist = document.getElementById("loadingDiv")

  //  if(loadingExist === null) {
  //   input.addEventListener('keyup', function(event) {
  //     if (event.key === 'Enter') {
  //       clicar()
  //     }
  //   });
  //  } else {

  //  }
    

 

  
  

  // ...
</script> 

<script defer>


  const firebaseConfig = {
  apiKey: "AIzaSyA3gOHi9Q6aHQ5seN5S9bbNmQpPQFMGXFs",
  authDomain: "magnus-c4b38.firebaseapp.com",
  projectId: "magnus-c4b38",
  storageBucket: "magnus-c4b38.appspot.com",
  messagingSenderId: "458576341456",
  appId: "1:458576341456:web:6117f4a9160b8667b8f1d5"
  };


  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);

  const db = firebase.firestore();

  
  function load() {
      firebase.auth().onAuthStateChanged(user => {
      if (user) {

        let login = document.getElementById("login")

        login.style.display = "none"


        var usuariosLista = db.collection('users').doc(user.uid);

        usuariosLista.get().then((doc) => {
          if (doc.exists) {
            const userData = doc.data()
            // const city = userData.city
            const pessoa = userData.pessoa

            if (pessoa == "fisica") {
              let perfil = document.getElementById("perfil")
              let perfilEmpresa = document.getElementById("perfilEmpresa")
              perfil.style.display = "inline"
              perfilEmpresa.style.display = "none"

            } else if (pessoa == "juridica") {
              let perfil = document.getElementById("perfil")
              let perfilEmpresa = document.getElementById("perfilEmpresa")
              perfil.style.display = "none"
              perfilEmpresa.style.display = "inline"
            }

          }
        })


      // Usuário está logado!
      // console.log("Usuário logado:", user.uid);
      // Faça o que você precisa, por exemplo:
      // - Redirecione para a página home
      // - Exiba o nome do usuário
      // - Habilite conteúdo restrito
    } else {
      let perfil = document.getElementById("perfil")
      let perfilEmpresa = document.getElementById("perfilEmpresa")
      perfil.style.display = "none"
      perfilEmpresa.style.display = "none"
    // Usuário não está logado
    console.log("Usuário não está logado.");
    // Faça o que você precisa, por exemplo:
    // - Redirecione para a página de login
    // - Desabilite conteúdo restrito
    }
})
}


  // function click() {
  //     const db = firebase.firestore();

  //     let profName = document.getElementById("profileName")
  //     // profName.textContent = "A"
  //     // console.log(profName)
  //     firebase.auth().onAuthStateChanged(user => {
  //     if (user) {
  //         var usuariosLista = db.collection('users').doc(user.uid);

  //         usuariosLista.get().then((doc) => {
  //         if (doc.exists) {
  //             const userData = doc.data()
  //             const nome = userData.username

  //             profName.textContent = nome

  //             console.log("Document data:", doc.data());
  //         } else {
  //             // doc.data() will be undefined in this case
  //             console.log("No such document!");
  //         }
  //     }).catch((error) => {
  //         console.log("Error getting document:", error);
  //     });

  //         db.collection('users').doc(user.uid).set({
  //             username: profName,
  //         })
  //     // Usuário está logado!
  //     console.log("Usuário logado:", user.uid);
  //     // Faça o que você precisa, por exemplo:
  //     // - Redirecione para a página home
  //     // - Exiba o nome do usuário
  //     // - Habilite conteúdo restrito
  //     } else {
  //     // Usuário não está logado
  //     console.log("Usuário não está logado.");
  //     // Faça o que você precisa, por exemplo:
  //     // - Redirecione para a página de login
  //     // - Desabilite conteúdo restrito
  //     }
  // });
  // }
</script>

    </body>

    

 </html>
